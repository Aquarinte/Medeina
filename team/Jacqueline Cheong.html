<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.6.1">
<title>Jacqueline Cheong - Project Portfolio</title>
<link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css">
</head>
<body class="article">
<div id="header">
<h1>Jacqueline Cheong - Project Portfolio</h1>
</div>
<div id="content">
<div class="sect1">
<h2 id="project-medeina"><a class="link" href="#project-medeina">PROJECT: Medeina</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This portfolio page showcases my contributions to the Medeina Project.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="overview"><a class="link" href="#overview">Overview</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Medeina is a free desktop application designed to provide veterinarians and their assistants with better management over contacts, pet patient details and appointments. User interactions happen through the Command Line Interface (CLI), and it has a Graphical User Interface (GUI) created using JavaFX.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="summary-of-contributions"><a class="link" href="#summary-of-contributions">Summary of contributions</a></h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><strong>Major enhancement</strong>: Autocomplete</p>
<div class="ulist">
<ul>
<li>
<p><strong>What it does:</strong> The autocomplete feature provides suggestions for command words, options, prefixes and parameters in a context menu as the user types. Suggestions for options and prefixes come with descriptions to give users an overview of what the option or prefix is used for.</p>
</li>
<li>
<p><strong>Justification:</strong> Medeina&#8217;s command syntax involves many options, prefixes and parameters, which can be daunting for potential users. Autocomplete supports and complements Medeina&#8217;s command syntax to enhance user experience. In addition, the autocomplete feature also provides users a way to reference existing data in Medeina to reduce the margin for errors in typing.</p>
</li>
<li>
<p><strong>Highlights:</strong> This enhancement requires the exploration of the singleton pattern and listeners for JavaFX. It involves an in-depth analysis of command syntax parsing e.g. to determine which group of tags (contact, pet patient, appointment) to show as autocomplete suggestions based on user input.</p>
</li>
<li>
<p><strong>Credits:</strong> <a href="https://bugs.openjdk.java.net/browse/JDK-8088614">Bug fix for JavaFx textfield caret position issue</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Minor enhancement</strong>: Support for changing theme that is persistent beyond app restart.</p>
</li>
<li>
<p><strong>Code contributed</strong>: [<a href="https://github.com/CS2103JAN2018-F14-B2/main/blob/master/collated/functional/aquarinte.md">Functional code</a>] [<a href="https://github.com/CS2103JAN2018-F14-B2/main/blob/master/collated/test/aquarinte.md">Test code</a>]</p>
</li>
<li>
<p><strong>Other contributions</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Project management:</p>
<div class="ulist">
<ul>
<li>
<p>Managed releases <code>v1.2</code> and <code>v1.3</code> (2 releases) on GitHub</p>
</li>
</ul>
</div>
</li>
<li>
<p>Enhancements to existing features:</p>
<div class="ulist">
<ul>
<li>
<p>Added a new GUI color scheme (Pull requests <a href="https://github.com/CS2103JAN2018-F14-B2/main/pull/156">#156</a>, <a href="https://github.com/CS2103JAN2018-F14-B2/main/pull/188">#188</a>)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Documentation:</p>
<div class="ulist">
<ul>
<li>
<p>Introduced a new format to document features and examples (<a href="https://github.com/CS2103JAN2018-F14-B2/main/pull/137">137</a>)</p>
</li>
<li>
<p>Re-structure contents in User Guide to improve organization and user-friendliness (<a href="https://github.com/CS2103JAN2018-F14-B2/main/pull/214">#214</a>)</p>
</li>
<li>
<p>Added a section to describe command format/syntax used (<a href="https://github.com/CS2103JAN2018-F14-B2/main/pull/244" class="bare">https://github.com/CS2103JAN2018-F14-B2/main/pull/244</a>)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Community:</p>
<div class="ulist">
<ul>
<li>
<p>Reported bugs and suggestions for other teams (examples:  <a href="https://github.com/CS2103JAN2018-F11-B1/main/issues/170">#170</a>, <a href="https://github.com/CS2103JAN2018-F11-B1/main/issues/179">#179</a>)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Tools:</p>
<div class="ulist">
<ul>
<li>
<p>Integrated a new Github plugin (CircleCI) to the team repo <a href="https://github.com/CS2103JAN2018-F14-B2/main/pull/207">#207</a></p>
</li>
<li>
<p>Integrated TravisCI, Coveralls, and Netlify to the team repo</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-user-guide"><a class="link" href="#contributions-to-the-user-guide">Contributions to the User Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are sections I contributed to the User Guide. They showcase my ability to write documentation targeting end-users.</em></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-developer-guide"><a class="link" href="#contributions-to-the-developer-guide">Contributions to the Developer Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are sections I contributed to the Developer Guide. They showcase my ability to write technical documentation and the technical depth of my contributions to the project.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="autocomplete"><a class="link" href="#autocomplete">Autocomplete</a></h3>
<div class="paragraph">
<p>The autocomplete feature serves to enhance user experience in using the Command Line Interface (CLI). It currently supports command words, options, prefixes, and parameters such as tags, NRIC, pet patient&#8217;s name, breed, species, colour and blood type.</p>
</div>
<div class="sect3">
<h4 id="current-implementation"><a class="link" href="#current-implementation">Current Implementation</a></h4>
<div class="paragraph">
<p>The implementation logic of the autocomplete feature resides in the <code>UI</code> component. The autocomplete feature is driven by a <code>ChangeListener</code> attached to <code>commandTextField.textProperty()</code> in <code>CommandBox.java</code>. Once the <code>ChangeListener</code> registers any changes in the content of <code>commandTextField</code>, <code>triggerAutocomplete()</code> will be executed.<br></p>
</div>
<div class="paragraph">
<p>Suppose that the user is launching Medeina. Before the Graphical User Interface (GUI) is ready, a <code>CommandBox</code> object will be initialized for the user to enter commands. The following diagram illustrates a sequence of method calls, starting with the initialization of <code>CommandBox</code>, followed by the initialization of an instance of <code>Autocomplete</code>, and then calling 3 set attribute methods in the <code>Logic</code> component. Subsequently, suppose the user has typed <code>add -p n/Happy s/Cat b/Persian c/Calico bt/A -o nr/</code>. The diagram shows a sequence of method calls, starting with triggerAutocomplete(), to get autocomplete suggestions for NRIC to be shown in a context menu.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/autocompleteSequenceDiagram.png" alt="autocompleteSequenceDiagram" width="800">
</div>
<div class="title">Figure 1. Sequence diagram for autocomplete feature</div>
</div>
<div class="paragraph">
<p><br>
<code>Autocomplete.java</code> encompasses the logic for parsing user input in the CLI and determining what autocomplete suggestions are to be passed back to <code>CommandBox.java</code>. Data required for autocomplete, such as a list of command words, prefixes, options and parameters in Medeina, are retrieved from the <code>Logic</code> component. All data required by <code>Autocomplete</code> are consolidated in a similar way in the <code>Logic</code> component.</p>
</div>
<div class="paragraph">
<p>The following code shows how NRIC and tags from all <code>Person</code> objects are consolidated:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> setAttributesForPersonObjects() {
    nricInModel = <span class="keyword">new</span> <span class="predefined-type">HashSet</span>&lt;&gt;();
    personTagsInModel = <span class="keyword">new</span> <span class="predefined-type">HashSet</span>&lt;&gt;();

    <span class="keyword">for</span> (Person p : model.getAddressBook().getPersonList()) {
        nricInModel.add(p.getNric().toString());
        personTagsInModel.addAll(p.getTags());
    }
}

<span class="directive">public</span> <span class="predefined-type">Set</span>&lt;<span class="predefined-type">String</span>&gt; getAllNric() {
    <span class="keyword">return</span> nricInModel;
}

<span class="directive">public</span> <span class="predefined-type">Set</span>&lt;<span class="predefined-type">String</span>&gt; getAllPersonTags() {
    <span class="predefined-type">Set</span>&lt;<span class="predefined-type">String</span>&gt; personTags = personTagsInModel.stream()
            .map(pt -&gt; pt.tagName)
            .collect(Collectors.toSet());
    <span class="keyword">return</span> personTags;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You may have noticed that in sequence diagram above (Figure 11), <code>Autocomplete</code> is a singleton class that is initialized only once, and there is only 1 instance of <code>CommandBox</code> in the application. You may be wondering "can the 3 set attribute methods in the <code>Logic</code> component be called only once?". If you are currently unsure, imagine that the user is constantly adding new contacts to Medeina. However, <code>Autocomplete</code> uses only data from when Medeina was launched.<br></p>
</div>
<div class="paragraph">
<p>The answer to the question is definitely no. The set attributes methods have to be called whenever there is a change in Medeina&#8217;s data, otherwise the autocomplete suggestions will not be up to date.</p>
</div>
<div class="paragraph">
<p>The following code snippet ensures that the data used by <code>Autocomplete</code> is kept updated.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> handleAddressBookChangedEvent(AddressBookChangedEvent a) {
    init(<span class="local-variable">this</span>.logic); <span class="comment">// calls the 3 set attributes methods</span>
    logger.info(LogsCenter.getEventHandlingLogMessage(a, <span class="string"><span class="delimiter">&quot;</span><span class="content">Local data has changed, update autocomplete data</span><span class="delimiter">&quot;</span></span>));
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations"><a class="link" href="#design-considerations">Design considerations</a></h4>
<div class="sect4">
<h5 id="aspect-updating-autocomplete-data"><a class="link" href="#aspect-updating-autocomplete-data">Aspect: Updating autocomplete data</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> All Data is updated only when <code>AddressBookChangedEvent</code> is raised.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Efficient and with minimal redundant updates.</p>
</li>
<li>
<p>Cons: Implementation is less straight-forward.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2 :</strong> Updates the specific required data e.g. NRIC, whenever autocomplete is triggered.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easy to implement.</p>
</li>
<li>
<p>Cons: Redundant updates. Required data will remain the same, except only when add, delete, or edit commands are executed.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 3:</strong> All Data is updated whenever autocomplete is triggered.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easy to implement.</p>
</li>
<li>
<p>Cons: Many redundant data updates. Running for-loops in the <code>Logic</code> component for every character the user types, is resource-intensive.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="aspect-event-driven-or-user-driven"><a class="link" href="#aspect-event-driven-or-user-driven">Aspect: Event-driven or user-driven</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Implement change listener to automatically track user input and provide autocomplete suggestions.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Great improvement in user experience, as Medeina has long and complex command syntax.</p>
</li>
<li>
<p>Cons: Logic for handling caret position and command syntax parsing is complicated and can be prone to bugs.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> User has to press a specific key e.g. tab to invoke autocompletion.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Less logic to account for, and is thus easier to implement.</p>
</li>
<li>
<p>Cons: User experience is compromised.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="aspect-autocomplete-scope"><a class="link" href="#aspect-autocomplete-scope">Aspect: Autocomplete scope</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Autocomplete works only for commands that require options and prefixes.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Reduce unneccessary autocomplete suggestions.</p>
</li>
<li>
<p>Cons: Additional implementation logic to handle checking of command input.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Autocomplete works for any user input as long as correct options and prefixes are specifed.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easy to implement.</p>
</li>
<li>
<p>Cons: A whitespace after a command that doesn&#8217;t require options and prefixes e.g. <code>help</code>, will bring up a list of suggested prefixes. This may cause confusion for the user.
=== Add Command</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>This command creates new <code>Person</code>, <code>PetPatient</code> and <code>Appointment</code> objects to be added into Medeina.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="current-implementation-2"><a class="link" href="#current-implementation-2">Current Implementation</a></h4>
<div class="paragraph">
<p>The add command involves a combination of options to differentiate between what objects are to be added. Command syntax required for adding the different objects are shown below. Take note that the command word has been omitted.</p>
</div>
<div class="listingblock">
<div class="content">
<pre> (1) Person: -o n/NAME p/PHONE e/EMAIL a/ADDRESS nr/NRIC
 (2) PetPatient: -p n/NAME s/SPECIES b/BREED c/COLOUR bt/BLOODTYPE -o nr/NRIC
 (3) Appointment: -a d/DATETIME r/REMARKS t/TYPE_OF_APPOINTMENT -o nr/NRIC -p n/PET_PATIENT_NAME
 (4) All 3 objects in one command: -o n/NAME p/PHONE e/EMAIL a/ADDRESS nr/NRIC -p n/NAME s/SPECIES b/BREED c/COLOUR bt/BLOODTYPE -a d/DATETIME r/REMARKS t/TYPE_OF_APPOINTMENT</pre>
</div>
</div>
<div class="paragraph">
<p>Syntax (4) is equivalent to syntaxes (1), (2), and (3), but with fewer parameters required. Syntax (4) is designed to increase efficiency for the user in using the CLI, by reducing typing of redundant parameters. The parsing of these 4 <code>add</code> command syntaxes is performed using regular expressions pattern matching in <code>AddCommandParser</code>.<br></p>
</div>
<div class="paragraph">
<p>The following diagram illustrates the sequence of methods that occurs when adding a <code>PetPatient</code> object to Medeina.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/addCommandSequenceDiagram.png" alt="addCommandSequenceDiagram" width="800">
</div>
<div class="title">Figure 2. Sequence diagram for autocomplete feature</div>
</div>
<div class="paragraph">
<p><br></p>
</div>
<div class="paragraph">
<p>A <code>PetPatient</code> object must be assigned to an existing <code>Person</code> object. The <code>Person</code> object refers to a point of contact, which could be the owner of the pet patient, or a volunteer in-charge of the pet patient. This type of dependency is verified in <code>AddCommand.java</code>.</p>
</div>
<div class="paragraph">
<p>The follow code shows how dependency between <code>PetPatient</code> and <code>Person</code> object is verified before the <code>PetPatient</code> object is added to <code>Model</code> component:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">private</span> CommandResult addNewPetPatient() <span class="directive">throws</span> DuplicatePetPatientException, CommandException {
    person = getValidOwner(ownerNric);
    model.addPetPatient(petPatient);
    <span class="keyword">return</span> <span class="keyword">new</span> CommandResult(<span class="predefined-type">String</span>.format(MESSAGE_SUCCESS_PETPATIENT, petPatient, person));
}

<span class="directive">private</span> Person getValidOwner(Nric ownerNric) <span class="directive">throws</span> CommandException {
    Person validOwner = model.getPersonWithNric(ownerNric);
    <span class="keyword">if</span> (validOwner == <span class="predefined-constant">null</span>) {
                <span class="keyword">throw</span> <span class="keyword">new</span> CommandException(MESSAGE_INVALID_NRIC);
    }
    <span class="keyword">return</span> validOwner;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Dependencies for <code>Appointment</code> object is also verified in a similar way in <code>AddCommand.java</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-2"><a class="link" href="#design-considerations-2">Design considerations</a></h4>
<div class="sect4">
<h5 id="aspect-consolidating-similar-commands"><a class="link" href="#aspect-consolidating-similar-commands">Aspect: Consolidating similar commands</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> A single <code>add</code> command with options to differentiate objects to be added.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: It is intuitive for users to just remember just 1 <code>add</code> command. Greater flexibility in introducing "power" command like syntax (4).</p>
</li>
<li>
<p>Cons: Complex implementation logic</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> 3 separate commands e.g. <code>addperson</code>, <code>addpetpatient</code>, <code>addappointment</code></p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easy to implement.</p>
</li>
<li>
<p>Cons: Requires syntax (4) to be implemented as a separate command. More commands for the user to remember.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="current-limitations"><a class="link" href="#current-limitations">Current Limitations</a></h4>
<div class="paragraph">
<p>Currently, <code>add</code>  command uses up to 3 options in its syntax. The order of options must be preserved due to the use of regular expressions to match command syntax pattern. This differs from prefixes which have flexibility in ordering. As a result, the add command may be less intuitive for users.</p>
</div>
<div class="paragraph">
<p>Another thing to note is that, the syntax for adding an appointment takes in the NRIC of an existing contact and a pet patient name. The pet patient that is specified must be one that assigned under the contact. However, the adding of a new appointment does not account for cases in which a particular contact has pet patients sharing the same name. The <code>add</code> command will assign the new appointment for the pet patient which has a lower <code>index</code> in Medeina. A simple workaround for this problem, is to <code>edit</code> the pet patient name with slight variation to differentiate them e.g. "Happy1", "Happy2".</p>
</div>
</div>
<div class="sect3">
<h4 id="future-work"><a class="link" href="#future-work">Future Work</a></h4>
<div class="paragraph">
<p>The problem of multiple pet patient sharing the same name under a contact will be addressed in near future. The <code>add</code> command syntax can be modified to include an optional index to differentiate the pet patients without having to edit their names. Aside from this, further improvements can be made to simplify the command syntax of <code>add</code>.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2018-04-15 16:32:06 UTC
</div>
</div>
</body>
</html>